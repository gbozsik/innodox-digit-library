(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b49a5b1a"],{"14c2":function(e,t,o){},"169a":function(e,t,o){"use strict";o("6ec0");var r=o("c69d"),i=o("30d4"),a=(o("f7dc"),o("80d2")),n={name:"overlayable",props:{hideOverlay:Boolean},data:function(){return{overlay:null,overlayOffset:0,overlayTimeout:null,overlayTransitionDuration:650}},beforeDestroy:function(){this.removeOverlay()},methods:{genOverlay:function(){var e=this;if(!this.isActive||this.hideOverlay||this.isActive&&this.overlayTimeout||this.overlay)return clearTimeout(this.overlayTimeout),this.overlay&&this.overlay.classList.add("v-overlay--active");this.overlay=document.createElement("div"),this.overlay.className="v-overlay",this.absolute&&(this.overlay.className+=" v-overlay--absolute"),this.hideScroll();var t=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");return t&&t.insertBefore(this.overlay,t.firstChild),this.overlay.clientHeight,requestAnimationFrame(function(){e.overlay&&(e.overlay.className+=" v-overlay--active",void 0!==e.activeZIndex&&(e.overlay.style.zIndex=e.activeZIndex-1))}),!0},removeOverlay:function(){var e=this;if(!this.overlay)return this.showScroll();this.overlay.classList.remove("v-overlay--active"),this.overlayTimeout=setTimeout(function(){try{e.overlay&&e.overlay.parentNode&&e.overlay.parentNode.removeChild(e.overlay),e.overlay=null,e.showScroll()}catch(e){console.log(e)}clearTimeout(e.overlayTimeout),e.overlayTimeout=null},this.overlayTransitionDuration)},scrollListener:function(e){if("keydown"===e.type){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||e.target.isContentEditable)return;var t=[a["o"].up,a["o"].pageup],o=[a["o"].down,a["o"].pagedown];if(t.includes(e.keyCode))e.deltaY=-1;else{if(!o.includes(e.keyCode))return;e.deltaY=1}}(e.target===this.overlay||"keydown"!==e.type&&e.target===document.body||this.checkPath(e))&&e.preventDefault()},hasScrollbar:function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e);return["auto","scroll"].includes(t["overflow-y"])&&e.scrollHeight>e.clientHeight},shouldScroll:function(e,t){return 0===e.scrollTop&&t<0||e.scrollTop+e.clientHeight===e.scrollHeight&&t>0},isInside:function(e,t){return e===t||null!==e&&e!==document.body&&this.isInside(e.parentNode,t)},checkPath:function(e){var t=e.path||this.composedPath(e),o=e.deltaY||-e.wheelDelta;if("keydown"===e.type&&t[0]===document.body){var r=this.$refs.dialog,i=window.getSelection().anchorNode;return!this.hasScrollbar(r)||!this.isInside(i,r)||this.shouldScroll(r,o)}for(var a=0;a<t.length;a++){var n=t[a];if(n===document)return!0;if(n===document.documentElement)return!0;if(n===this.$refs.content)return!0;if(this.hasScrollbar(n))return this.shouldScroll(n,o)}return!0},composedPath:function(e){if(e.composedPath)return e.composedPath();var t=[],o=e.target;while(o){if(t.push(o),"HTML"===o.tagName)return t.push(document),t.push(window),t;o=o.parentElement}},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(window.addEventListener("wheel",this.scrollListener),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}},s=o("e949"),l=o("261e"),c=o("98a1"),u=o("c584"),d=o("bfc5"),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e};function m(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t["a"]={name:"v-dialog",directives:{ClickOutside:u["a"]},mixins:[r["a"],i["a"],n,s["a"],l["a"],c["a"]],props:{disabled:Boolean,persistent:Boolean,fullscreen:Boolean,fullWidth:Boolean,noClickAnimation:Boolean,light:Boolean,dark:Boolean,maxWidth:{type:[String,Number],default:"none"},origin:{type:String,default:"center center"},width:{type:[String,Number],default:"auto"},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"}},data:function(){return{animate:!1,animateTimeout:null,stackClass:"v-dialog__content--active",stackMinZIndex:200}},computed:{classes:function(){var e;return e={},m(e,("v-dialog "+this.contentClass).trim(),!0),m(e,"v-dialog--active",this.isActive),m(e,"v-dialog--persistent",this.persistent),m(e,"v-dialog--fullscreen",this.fullscreen),m(e,"v-dialog--scrollable",this.scrollable),m(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}}},watch:{isActive:function(e){e?this.show():(this.removeOverlay(),this.unbind())},fullscreen:function(e){e?this.hideScroll():this.showScroll()}},mounted:function(){this.isBooted=this.isActive,this.isActive&&this.show()},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick(function(){e.animate=!0,clearTimeout(e.animateTimeout),e.animateTimeout=setTimeout(function(){return e.animate=!1},150)})},closeConditional:function(e){return!(this.$refs.content.contains(e.target)||!this.isActive)&&(this.persistent?(this.noClickAnimation||this.overlay!==e.target||this.animateClick(),!1):Object(a["l"])(this.$refs.content)>=this.getMaxZIndex())},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):n.methods.hideScroll.call(this)},show:function(){!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.fullscreen&&this.hideScroll(),this.$refs.content.focus(),this.$listeners.keydown&&this.bind()},bind:function(){window.addEventListener("keydown",this.onKeydown)},unbind:function(){window.removeEventListener("keydown",this.onKeydown)},onKeydown:function(e){this.$emit("keydown",e)}},render:function(e){var t=this,o=[],r={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:function(){return t.isActive=!1},args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],on:{click:function(e){e.stopPropagation()}}};this.fullscreen||(r.style={maxWidth:"none"===this.maxWidth?void 0:Object(a["c"])(this.maxWidth),width:"auto"===this.width?void 0:Object(a["c"])(this.width)}),this.$slots.activator&&o.push(e("div",{staticClass:"v-dialog__activator",class:{"v-dialog__activator--disabled":this.disabled},on:{click:function(e){e.stopPropagation(),t.disabled||(t.isActive=!t.isActive)}}},[this.$slots.activator]));var i=e("div",r,this.showLazyContent(this.$slots.default));return this.transition&&(i=e("transition",{props:{name:this.transition,origin:this.origin}},[i])),o.push(e("div",{class:this.contentClasses,attrs:h({tabIndex:"-1"},this.getScopeIdAttrs()),style:{zIndex:this.activeZIndex},ref:"content"},[this.$createElement(d["a"],{props:{root:!0,light:this.light,dark:this.dark}},[i])])),e("div",{staticClass:"v-dialog__container",style:{display:!this.$slots.activator||this.fullWidth?"block":"inline-block"}},o)}}},"29d1":function(e,t,o){"use strict";var r=o("14c2"),i=o.n(r);i.a},3199:function(e,t,o){"use strict";o.d(t,"i",function(){return r}),o.d(t,"e",function(){return i}),o.d(t,"f",function(){return a}),o.d(t,"d",function(){return n}),o.d(t,"b",function(){return s}),o.d(t,"c",function(){return l}),o.d(t,"a",function(){return c}),o.d(t,"g",function(){return u}),o.d(t,"h",function(){return d});var r=function(e){return!!e||"Szükséges mező."},i=function(e){return void 0===e?!!e:e.length>=2||"Legalább 2 karaktert kell tartalmazzon."},a=function(e){return void 0===e?!!e:e.length>=50||"Legalább 50 karaktert kell tartalmazzon."},n=function(e){return void 0===e?!!e:e.length>=100||"Legalább 100 karaktert kell tartalmazzon."},s=function(e){return void 0===e?!!e:e.length<=200||"Maximum 200 karaktert tartalmazhat."},l=function(e){return void 0===e?!!e:e.length>=5e3||"Maximum 5000 karaktert tartalmazhat."},c=function(e){return!isNaN(e)||"Csak számokat tartalmazhat."},u=function(e){return e<=10||"Maximum 10 könyvet lehet felvenni."},d=function(e){return void 0===e?!!e:e>0||"Csak pozitív számot lehet megadni"}},"6ec0":function(e,t,o){},"8bf3":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("v-layout",{attrs:{column:"","align-center":""}},[o("v-flex",{attrs:{xs12:"",md6:""}},[o("v-card",[o("v-card-text",[o("h4",{staticClass:"bookPageTitle"},[e._v("Add new book, or update")]),o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-select",{staticClass:"booComboBox",attrs:{items:e.selectableBooks,label:"Book","single-line":"",clearable:""},on:{change:e.bookComboChanged},scopedSlots:e._u([{key:"selection",fn:function(t){return[e._v("\n                                    "+e._s(t.item.authorModel.firstName)+" "+e._s(t.item.authorModel.lastName)+" - "+e._s(t.item.title)+"\n                                ")]}},{key:"item",fn:function(t){return[e._v("\n                                    "+e._s(t.item.authorModel.firstName)+" "+e._s(t.item.authorModel.lastName)+" "+e._s(t.item.title)+"\n                                ")]}}]),model:{value:e.form.book.selectedBook,callback:function(t){e.$set(e.form.book,"selectedBook",t)},expression:"form.book.selectedBook"}},[e._v('\n                                :rules="form.validation.rules.category"\n                                return-object>\n                            ')])],1),o("v-flex",{attrs:{xs12:"",sm8:""}},[o("v-text-field",{attrs:{label:"Title",required:"",rules:e.form.validation.rules.title},model:{value:e.form.book.bookOnForm.title,callback:function(t){e.$set(e.form.book.bookOnForm,"title",t)},expression:"form.book.bookOnForm.title"}})],1),o("v-flex",{attrs:{xs12:"",sm8:""}},[o("v-text-field",{attrs:{label:"Publisher",required:"",rules:e.form.validation.rules.publisher},model:{value:e.form.book.bookOnForm.publisher,callback:function(t){e.$set(e.form.book.bookOnForm,"publisher",t)},expression:"form.book.bookOnForm.publisher"}})],1),o("v-card-text",{staticClass:"authorCard"},[o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-select",{attrs:{items:e.selectableAuthors,clearable:"",label:"Authors","single-line":"","return-object":""},on:{change:e.authorVSelectChanged},scopedSlots:e._u([{key:"selection",fn:function(t){return[o("v-list-tile-avatar",[o("img",{attrs:{src:t.item.avatar}})]),e._v("\n                                        "+e._s(t.item.firstName)+" "+e._s(t.item.lastName)+"\n                                    ")]}},{key:"item",fn:function(t){return[o("v-list-tile-avatar",[o("img",{attrs:{src:t.item.avatar}})]),e._v("\n                                        "+e._s(t.item.firstName)+" "+e._s(t.item.lastName)+"\n                                    ")]}}]),model:{value:e.form.book.selectedAuthor,callback:function(t){e.$set(e.form.book,"selectedAuthor",t)},expression:"form.book.selectedAuthor"}})],1),o("v-flex",{attrs:{xs12:"",sm8:""}},[o("v-text-field",{ref:"newAuthorFirstName",attrs:{label:"First name",required:"",rules:e.form.validation.rules.authorModel},on:{change:e.newAuthorFieldsChange},model:{value:e.form.book.bookOnForm.authorModel.firstName,callback:function(t){e.$set(e.form.book.bookOnForm.authorModel,"firstName",t)},expression:"form.book.bookOnForm.authorModel.firstName"}})],1),o("v-flex",{attrs:{xs12:"",sm8:""}},[o("v-text-field",{ref:"newAuthorLastName",attrs:{label:"Last name",required:"",rules:e.form.validation.rules.authorModel},on:{change:e.newAuthorFieldsChange},model:{value:e.form.book.bookOnForm.authorModel.lastName,callback:function(t){e.$set(e.form.book.bookOnForm.authorModel,"lastName",t)},expression:"form.book.bookOnForm.authorModel.lastName"}})],1),o("v-flex",{attrs:{xs12:"",sm8:""}},[o("v-text-field",{ref:"newAuthorAge",attrs:{label:"Age",required:"",rules:e.form.validation.rules.age,type:"number"},on:{change:e.newAuthorFieldsChange},model:{value:e.form.book.bookOnForm.authorModel.age,callback:function(t){e.$set(e.form.book.bookOnForm.authorModel,"age",t)},expression:"form.book.bookOnForm.authorModel.age"}})],1)],1),o("v-flex",{attrs:{xs12:"",sm6:""}},[o("v-select",{attrs:{items:e.selectableCategories,"item-text":"name",label:"Category","single-line":"",rules:e.form.validation.rules.category,"return-object":""},on:{change:e.categoryVSelectChanged},model:{value:e.form.book.selectedCategoryModel,callback:function(t){e.$set(e.form.book,"selectedCategoryModel",t)},expression:"form.book.selectedCategoryModel"}})],1),o("v-flex",{attrs:{xs12:"",sm8:""}},[o("v-text-field",{attrs:{label:"Ammount",required:"",rules:e.form.validation.rules.quantity,type:"number"},model:{value:e.form.book.bookOnForm.quantity,callback:function(t){e.$set(e.form.book.bookOnForm,"quantity",t)},expression:"form.book.bookOnForm.quantity"}})],1),o("v-flex",{attrs:{xs12:""}},[o("v-card",{attrs:{height:"100%"}},[o("v-card-text",[o("h4",{staticClass:"inputTitle"},[e._v("Preface")]),o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-textarea",{attrs:{name:"preface",label:"",hint:"Copy here the preface",clearable:"",rows:"12",rules:e.form.validation.rules.preface,required:"","auto-grow":""},model:{value:e.form.book.bookOnForm.preface,callback:function(t){e.$set(e.form.book.bookOnForm,"preface",t)},expression:"form.book.bookOnForm.preface"}})],1)],1)],1)],1)],1),o("v-flex",{attrs:{xs12:""}},[o("v-card",{attrs:{height:"100%"}},[o("v-card-text",[o("h4",{staticClass:"inputTitle"},[e._v("Content")]),o("v-layout",{attrs:{wrap:""}},[o("v-flex",{attrs:{xs12:""}},[o("v-textarea",{attrs:{name:"content",label:"",hint:"Copy here the content of the book",clearable:"",rows:"12",rules:e.form.validation.rules.content,required:"","auto-grow":""},model:{value:e.form.book.bookOnForm.content,callback:function(t){e.$set(e.form.book.bookOnForm,"content",t)},expression:"form.book.bookOnForm.content"}})],1)],1)],1)],1)],1),o("v-flex",{attrs:{xs12:"",sm4:"","text-xs-center":""}},[o("div",[o("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.saveBook()}}},[e._v("Save")]),o("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.deleteBook()}}},[e._v("Delete")])],1)])],1)],1)],1)],1)],1),o("Dialog",{staticClass:"dialog",attrs:{title:e.form.errorDialog.title,color:"warning",show:""!==e.bookErrorMessage,width:400,actions:e.form.errorDialog.actions}},[o("v-container",{staticClass:"dialog-container",attrs:{bg:"","fill-height":"","grid-list-md":"","text-xs-center":"","text-size":""}},[o("v-layout",{attrs:{row:"",wrap:"","align-center":""}},[o("v-flex",{staticStyle:{"font-size":"x-large","font-family":"Arial"}},[e._v("\n                    "+e._s(e.bookErrorMessage)+"\n                ")])],1)],1)],1)],1)},i=[],a=o("3199"),n=o("2ef0"),s=o.n(n),l=o("2677"),c=o("b0af"),u=o("99d9"),d=o("b56d"),h=o("a844"),m=o("169a"),f=o("e1c1"),b={components:{VTextField:l["a"],VCard:c["a"],VCardText:u["a"],VSelect:d["a"],VTextarea:h["a"],VDialog:m["a"],Dialog:f["a"]},name:"book",mounted:function(){this.$store.dispatch("getCategories"),this.$store.dispatch("getAuthors"),this.$store.dispatch("getBooks")},computed:{selectableCategories:function(){return this.$store.state.categories},selectableAuthors:function(){return this.$store.state.authors},selectableBooks:function(){return this.$store.state.books},bookErrorMessage:function(){return this.$store.state.bookErrorMessage}},methods:{bookComboChanged:function(){s.a.isEmpty(this.form.book.selectedBook)?this.getDefaultData():(this.form.book.bookOnForm.id=this.form.book.selectedBook.id,this.form.book.bookOnForm.title=this.form.book.selectedBook.title,this.form.book.bookOnForm.authorModel=this.form.book.selectedBook.authorModel,this.form.book.bookOnForm.publisher=this.form.book.selectedBook.publisher,this.form.book.bookOnForm.categoryModel=this.form.book.selectedBook.category,this.form.book.bookOnForm.content=this.form.book.selectedBook.content,this.form.book.bookOnForm.quantity=this.form.book.selectedBook.quantity,this.form.book.bookOnForm.preface=this.form.book.selectedBook.preface)},newAuthorFieldsChange:function(){this.form.book.selectedAuthor={},this.form.book.bookOnForm.authorModel.id=""},authorVSelectChanged:function(){s.a.isEmpty(this.form.book.selectedAuthor)||(this.form.book.bookOnForm.authorModel.id=this.form.book.selectedAuthor.id,this.form.book.bookOnForm.authorModel.firstName=this.form.book.selectedAuthor.firstName,this.form.book.bookOnForm.authorModel.lastName=this.form.book.selectedAuthor.lastName,this.form.book.bookOnForm.authorModel.age=this.form.book.selectedAuthor.age)},categoryVSelectChanged:function(){s.a.isEmpty(this.form.book.selectedCategoryModel)||(this.form.book.bookOnForm.categoryModel=this.form.book.selectedCategoryModel)},saveBook:function(){this.form.book.bookToSave=s.a.cloneDeep(this.form.book.bookOnForm),this.form.book.bookOnForm.categoryModel=s.a.cloneDeep(this.form.book.selectedCategoryModel),this.$store.dispatch("saveBook",this.form.book.bookToSave),""===this.bookErrorMessage&&(this.getDefaultData(),this.bookComboChanged()),console.log("current route: "+this.$router.currentRoute)},deleteBook:function(){this.$store.dispatch("deleteBook",this.form.book.bookOnForm.id),this.$store.dispatch("getBooks",this.form.book.bookOnForm.id),this.getDefaultData()},errorDialogClose:function(){this.$store.commit("resetBookErrorMessage")},getDefaultData:function(){this.form.book.bookOnForm.id="",this.form.book.bookOnForm.title="",this.form.book.selectedAuthor={},this.form.book.bookOnForm.authorModel={},this.form.book.bookOnForm.publisher="",this.form.book.bookOnForm.categoryModel="",this.form.book.bookOnForm.content="",this.form.book.bookOnForm.quantity="",this.form.book.bookOnForm.preface="",this.form.book.selectedCategoryModel={},this.form.book.selectedBook={}}},data:function(){return{form:{book:{selectedBook:{},bookToSave:{},selectedAuthor:{},selectedCategoryModel:{},settedCategoryModel:{},bookOnForm:{id:"",title:"",authorModel:{id:"",firstName:"",lastName:"",age:""},publisher:"",categoryModel:{},preface:"",content:"",quantity:""}},errorDialog:{state:""!==this.bookErrorMessage,title:"Warning",actions:[{text:"Ok",click:this.errorDialogClose}]},validation:{state:!1,rules:{title:[a["i"],a["e"]],authorModel:[a["i"],a["e"]],age:[a["i"],a["e"]],publisher:[a["i"],a["e"]],category:[a["i"]],quantity:[a["i"],a["a"],a["h"],a["g"]],preface:[a["i"],a["f"],a["b"]],content:[a["i"],a["d"],a["c"]]}}}}}},v=b,k=(o("29d1"),o("a945"),o("2877")),g=Object(k["a"])(v,r,i,!1,null,"826943e4",null);g.options.__file="Book.vue";t["default"]=g.exports},a945:function(e,t,o){"use strict";var r=o("f298"),i=o.n(r);i.a},e1c1:function(e,t,o){"use strict";var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e.fullscreen?[o("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:e.color}},[o("v-toolbar-title",[e._v(e._s(e.title))]),o("v-spacer"),o("v-toolbar-items",e._l(e.actions,function(t){return o("v-btn",{key:t.text,attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.click()}}},[e._v(e._s(t.text))])}))],1),e._t("default")],2)],1)]:[o("v-dialog",{attrs:{persistent:"",width:e.width},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:e.color}},[o("v-toolbar-title",[e._v(e._s(e.title))]),o("v-spacer"),o("v-toolbar-items",e._l(e.actions,function(t){return o("v-btn",{key:t.text,attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.click()}}},[e._v(e._s(t.text))])}))],1),e._t("default")],2)],1)]],2)},i=[],a=o("169a"),n=o("b0af"),s=o("2677"),l={props:{show:{type:Boolean,default:!1,required:!0},title:{type:String,default:"Dialog title",required:!0},color:{type:String,default:"primary",required:!1},fullscreen:{type:Boolean,default:!1,required:!1},width:{type:Number,default:1500,required:!1},actions:{type:Array,default:function(){return[]},required:!1}},components:{VDialog:a["a"],VCard:n["a"],VTextField:s["a"]}},c=l,u=o("2877"),d=Object(u["a"])(c,r,i,!1,null,null,null);d.options.__file="Dialog.vue";t["a"]=d.exports},f298:function(e,t,o){}}]);
//# sourceMappingURL=chunk-b49a5b1a.182af41c.js.map